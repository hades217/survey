# 防作弊功能测试指南

## 🎯 测试范围

防作弊功能仅在**测评类问卷**（Assessment, Quiz, IQ测试）中启用，普通问卷（Survey）不受影响。

## 🔧 如何测试

### 1. 准备测试环境

1. 访问任何一个 Assessment 类型的问卷
2. 打开浏览器开发者工具（F12）观察控制台输出

### 2. 测试禁用复制功能

**测试步骤：**

- 尝试选中问题文本
- 按 `Ctrl+C` 或 `Cmd+C` 复制
- 应该看到警告弹窗："为保证测评公平，系统不允许复制内容。"

### 3. 测试禁用粘贴功能

**测试步骤：**

- 在文本输入框中按 `Ctrl+V` 或 `Cmd+V` 粘贴
- 应该看到警告弹窗："为保证测评公平，系统不允许粘贴内容。"

### 4. 测试禁用右键菜单

**测试步骤：**

- 在问题文本或任何地方右键点击
- 应该看到警告弹窗："测评期间禁用右键菜单。"

### 5. 测试禁用全选

**测试步骤：**

- 按 `Ctrl+A` 或 `Cmd+A` 尝试全选
- 应该看到警告弹窗："测评期间禁用全选功能。"

### 6. 测试禁用开发者工具

**测试步骤：**

- 按 `F12` 打开开发者工具
- 按 `Ctrl+Shift+I` 或 `Cmd+Option+I`
- 按 `Ctrl+U` 查看源代码
- 应该看到警告弹窗："测评期间禁用开发者工具。"

## 🌍 多语言测试

切换到中文界面测试，确保警告信息显示为中文。

## ✅ 期望行为

- **普通问卷（Survey）**：所有操作正常，无限制
- **测评问卷（Assessment/Quiz/IQ）**：
    - 无法复制问题内容
    - 无法粘贴到输入框
    - 右键菜单被禁用
    - 全选被禁用
    - 开发者工具快捷键被禁用
    - 所有违规操作都会弹出相应警告

## 🔍 技术实现细节

- 使用 `useAntiCheating` hook 管理防作弊功能
- 通过 CSS 类 `anti-cheat-container` 禁用文本选择
- 事件监听器拦截复制、粘贴、右键等操作
- 仅在问卷类型为 Assessment/Quiz/IQ 时启用
